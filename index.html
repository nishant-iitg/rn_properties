<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>RN Properties | Modern Real Estate</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            primary: '#2563eb',
            secondary: '#38bdf8'
          }
        }
      }
    }
  </script>
  <style>
    body { font-family: 'Inter', sans-serif; }
    .glass {
      background: rgba(255, 255, 255, 0.7);
      box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.18);
      backdrop-filter: blur(6px);
      border-radius: 1.5rem;
      transition: box-shadow 0.3s cubic-bezier(.4,0,.2,1), transform 0.25s cubic-bezier(.4,0,.2,1);
    }
    .glass:hover, .glass:focus-within {
      box-shadow: 0 12px 36px 0 rgba(31, 38, 135, 0.24), 0 4px 16px 0 rgba(37,99,235,0.12);
      transform: translateY(-3px) scale(1.03);
    }
    .gradient-bg {
      background: linear-gradient(90deg, #2563eb 0%, #38bdf8 100%);
    }
    .dark .glass {
      background: rgba(30, 41, 59, 0.6);
      box-shadow: 0 8px 32px 0 rgba(0,0,0,0.45);
    }
    .dark .glass:hover, .dark .glass:focus-within {
      box-shadow: 0 12px 36px 0 rgba(0,0,0,0.65), 0 4px 16px 0 rgba(37,99,235,0.16);
    }
    .dark .gradient-bg {
      background: linear-gradient(90deg, #0f172a 0%, #2563eb 100%);
    }
    /* Modal overlay transitions */
    #propertyModal {
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.35s cubic-bezier(.4,0,.2,1);
    }
    #propertyModal.show {
      opacity: 1;
      pointer-events: auto;
    }
    /* Modal content animation */
    #propertyModal .modal-content {
      transform: translateY(48px) scale(0.97);
      opacity: 0;
      transition: transform 0.33s cubic-bezier(.4,0,.2,1), opacity 0.33s cubic-bezier(.4,0,.2,1);
    }
    #propertyModal.show .modal-content {
      transform: translateY(0) scale(1);
      opacity: 1;
    }
    /* Carousel image fade */
    #modalImg {
      transition: opacity 0.3s cubic-bezier(.4,0,.2,1);
      opacity: 1;
    }
    #modalImg.fading {
      opacity: 0;
    }
    /* Button hover effect */
    .btn-animated {
      transition: background 0.2s, color 0.2s, box-shadow 0.2s, transform 0.2s;
    }
    .btn-animated:hover, .btn-animated:focus {
      background: #2563eb;
      color: #fff;
      box-shadow: 0 2px 8px 0 rgba(37,99,235,0.12);
      transform: scale(1.07);
    }
  </style>
</head>
<body class="bg-gradient-to-br from-blue-50 via-white to-blue-100 min-h-screen text-gray-800 dark:bg-gradient-to-br dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 dark:text-gray-100">

  <!-- Dark Mode Toggle -->
  <div class="fixed top-6 right-6 z-50">
    <button id="toggleDark" aria-label="Toggle dark mode" class="p-2 rounded-full bg-white/80 dark:bg-slate-700 shadow hover:scale-110 transition">
      <svg id="sunIcon" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-yellow-400 dark:hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m8.66-12.34l-.71.71M4.05 19.95l-.71.71m16.97 0l-.71-.71M4.05 4.05l-.71-.71M21 12h1M2 12H1m16.24 7.24l-.71-.71M7.76 4.76l-.71-.71"/><circle cx="12" cy="12" r="5"/></svg>
      <svg id="moonIcon" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-slate-200 hidden dark:inline" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12.79A9 9 0 1111.21 3a7 7 0 109.79 9.79z"/></svg>
    </button>
  </div>
  <script>
    // Dark mode toggle logic
    const html = document.documentElement;
    const toggleBtn = document.getElementById('toggleDark');
    const sunIcon = document.getElementById('sunIcon');
    const moonIcon = document.getElementById('moonIcon');
    function setDarkMode(on) {
      if(on) {
        html.classList.add('dark');
        localStorage.setItem('theme', 'dark');
      } else {
        html.classList.remove('dark');
        localStorage.setItem('theme', 'light');
      }
    }
    // Load preference
    if(localStorage.getItem('theme') === 'dark' || (window.matchMedia('(prefers-color-scheme: dark)').matches && !localStorage.getItem('theme'))) {
      setDarkMode(true);
    }
    toggleBtn.addEventListener('click', () => {
      setDarkMode(!html.classList.contains('dark'));
    });
  </script>

  <!-- Header -->
  <header class="gradient-bg shadow p-6 sticky top-0 z-20 dark:shadow-none">
    <div class="max-w-6xl mx-auto flex flex-col sm:flex-row justify-between items-center">
      <h1 class="text-3xl font-extrabold text-white tracking-wide drop-shadow-lg dark:text-gray-100">RN Properties</h1>
      <nav class="mt-4 sm:mt-0 space-x-6 text-base">
        <a href="#listings" class="text-white/80 hover:text-white font-medium transition dark:text-gray-300 dark:hover:text-gray-100">Listings</a>
        <a href="#about" class="text-white/80 hover:text-white font-medium transition dark:text-gray-300 dark:hover:text-gray-100">About</a>
        <a href="#contact" class="text-white/80 hover:text-white font-medium transition dark:text-gray-300 dark:hover:text-gray-100">Contact</a>
      </nav>
    </div>
  </header>

  <!-- Hero Section -->
  <section class="relative py-24 flex flex-col items-center justify-center text-center">
    <div class="absolute inset-0 w-full h-full bg-gradient-to-br from-blue-200/60 to-white pointer-events-none dark:bg-gradient-to-br dark:from-slate-800 dark:via-slate-900 dark:to-slate-900"></div>
    <div class="relative z-10">
      <h2 class="text-4xl sm:text-5xl font-extrabold mb-4 text-blue-700 drop-shadow-lg dark:text-gray-100">Find Your Dream Property</h2>
      <p class="text-gray-700 max-w-2xl mx-auto text-lg mb-8 dark:text-gray-300">Explore beautiful properties handpicked by your trusted local real estate expert.</p>
      <a href="#listings" class="inline-block px-8 py-3 rounded-full gradient-bg text-white font-semibold shadow-lg hover:scale-105 transition dark:bg-gradient-to-r dark:from-slate-700 dark:via-slate-800 dark:to-slate-900 dark:text-gray-100">Browse Listings</a>
    </div>
  </section>

  <!-- Property Listings -->
  <section id="listings" class="py-16 max-w-6xl mx-auto px-4">
    <h3 class="text-3xl font-bold mb-10 text-blue-700 text-center dark:text-gray-100">Featured Properties</h3>
    <div id="propertyGrid" class="grid gap-8 md:grid-cols-2 lg:grid-cols-3"></div>
  </section>

  <!-- Testimonials Section -->
  <section class="py-16 bg-gradient-to-b from-blue-50 to-white dark:from-slate-900 dark:to-slate-800">
    <div class="max-w-5xl mx-auto px-4">
      <h3 class="text-3xl font-bold mb-10 text-blue-700 text-center dark:text-gray-100">What Our Clients Say</h3>
      <div class="grid gap-8 md:grid-cols-2 lg:grid-cols-3">
        <!-- Testimonial 1 -->
        <div class="bg-white dark:bg-slate-900 rounded-2xl shadow-xl p-8 flex flex-col items-center text-center border border-gray-100 dark:border-slate-800">
          <img src="https://randomuser.me/api/portraits/men/32.jpg" alt="Client Photo" class="w-20 h-20 rounded-full mb-4 shadow-lg border-4 border-blue-100 dark:border-slate-800" loading="lazy">
          <blockquote class="italic text-gray-700 dark:text-gray-200 mb-4">“RN Properties made buying our dream home seamless and stress-free. Their professionalism and attention to detail are unmatched.”</blockquote>
          <div class="font-semibold text-blue-700 dark:text-blue-300">Amit Sharma</div>
          <div class="text-xs text-gray-400 dark:text-gray-500">Amritsar</div>
        </div>
        <!-- Testimonial 2 -->
        <div class="bg-white dark:bg-slate-900 rounded-2xl shadow-xl p-8 flex flex-col items-center text-center border border-gray-100 dark:border-slate-800">
          <img src="https://randomuser.me/api/portraits/women/44.jpg" alt="Client Photo" class="w-20 h-20 rounded-full mb-4 shadow-lg border-4 border-blue-100 dark:border-slate-800" loading="lazy">
          <blockquote class="italic text-gray-700 dark:text-gray-200 mb-4">“Excellent service and honest advice. I highly recommend RN Properties for anyone looking for property in Punjab.”</blockquote>
          <div class="font-semibold text-blue-700 dark:text-blue-300">Simran Kaur</div>
          <div class="text-xs text-gray-400 dark:text-gray-500">Jalandhar</div>
        </div>
        <!-- Testimonial 3 -->
        <div class="bg-white dark:bg-slate-900 rounded-2xl shadow-xl p-8 flex flex-col items-center text-center border border-gray-100 dark:border-slate-800">
          <img src="https://randomuser.me/api/portraits/men/65.jpg" alt="Client Photo" class="w-20 h-20 rounded-full mb-4 shadow-lg border-4 border-blue-100 dark:border-slate-800" loading="lazy">
          <blockquote class="italic text-gray-700 dark:text-gray-200 mb-4">“Very responsive team and transparent process. I felt confident and informed at every step!”</blockquote>
          <div class="font-semibold text-blue-700 dark:text-blue-300">Rajiv Malhotra</div>
          <div class="text-xs text-gray-400 dark:text-gray-500">Ludhiana</div>
        </div>
      </div>
      <!-- Social Media Links -->
      <div class="mt-12 flex flex-col items-center">
        <div class="text-lg font-semibold text-gray-700 dark:text-gray-200 mb-2">Connect with us:</div>
        <div class="flex gap-6">
          <a href="https://wa.me/919876543210" target="_blank" rel="noopener" title="WhatsApp" class="hover:scale-110 transition-transform">
            <svg class="w-8 h-8 text-green-500" fill="none" viewBox="0 0 32 32"><rect width="32" height="32" rx="8" fill="#25D366"/><path fill="#fff" d="M16 8.5A7.5 7.5 0 0 0 8.5 16c0 1.32.35 2.6 1 3.72l-1.07 3.9a.75.75 0 0 0 .92.92l3.9-1.07A7.5 7.5 0 1 0 16 8.5Zm0 13a5.5 5.5 0 0 1-2.8-.76l-.2-.12-2.3.62.62-2.3-.12-.2A5.5 5.5 0 1 1 16 21.5Zm3.11-4.07c-.17-.09-.98-.48-1.13-.54-.15-.06-.26-.09-.37.09-.11.17-.43.54-.53.65-.09.11-.2.12-.37.04-.17-.09-.71-.26-1.35-.83-.5-.45-.84-.99-.94-1.16-.09-.17-.01-.26.08-.34.08-.09.17-.22.26-.34.09-.11.12-.2.18-.34.06-.13.03-.25-.02-.34-.05-.09-.4-.98-.54-1.34-.14-.36-.29-.31-.4-.31-.11 0-.23 0-.36 0a.56.56 0 0 0-.4.16c-.11.11-.43.41-.43 1 0 .59.44 1.16.5 1.25.06.09.87 1.4 2.12 1.91.3.12.53.2.71.25.3.08.56.07.77.04.23-.03.72-.28.82-.56.1-.28.1-.52.07-.56-.03-.05-.12-.08-.25-.15Z"/></svg>
          </a>
          <a href="https://facebook.com/yourpage" target="_blank" rel="noopener" title="Facebook" class="hover:scale-110 transition-transform">
            <svg class="w-8 h-8 text-blue-600" fill="none" viewBox="0 0 32 32"><rect width="32" height="32" rx="8" fill="#1877F3"/><path d="M23 16.05A7 7 0 1 0 15.05 23v-4.93H13v-2.02h2.05v-1.54c0-2 1.2-3.13 3.04-3.13.88 0 1.8.16 1.8.16v1.98h-1.01c-.99 0-1.3.62-1.3 1.25v1.28h2.21l-.35 2.02h-1.86V23A7 7 0 0 0 23 16.05Zm0 13a5.5 5.5 0 0 1-2.8-.76l-.2-.12-2.3.62.62-2.3-.12-.2A5.5 5.5 0 1 1 23 21.5Zm3.11-4.07c-.17-.09-.98-.48-1.13-.54-.15-.06-.26-.09-.37.09-.11.17-.43.54-.53.65-.09.11-.2.12-.37.04-.17-.09-.71-.26-1.35-.83-.5-.45-.84-.99-.94-1.16-.09-.17-.01-.26.08-.34.08-.09.17-.22.26-.34.09-.11.12-.2.18-.34.06-.13.03-.25-.02-.34-.05-.09-.4-.98-.54-1.34-.14-.36-.29-.31-.4-.31-.11 0-.23 0-.36 0a.56.56 0 0 0-.4.16c-.11.11-.43.41-.43 1 0 .59.44 1.16.5 1.25.06.09.87 1.4 2.12 1.91.3.12.53.2.71.25.3.08.56.07.77.04.23-.03.72-.28.82-.56.1-.28.1-.52.07-.56-.03-.05-.12-.08-.25-.15Z"/></svg>
          </a>
          <a href="https://instagram.com/yourprofile" target="_blank" rel="noopener" title="Instagram" class="hover:scale-110 transition-transform">
            <svg class="w-8 h-8 text-pink-500" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24"><rect width="18" height="18" x="3" y="3" rx="5" fill="none" stroke="currentColor" stroke-width="1.5"/><circle cx="12" cy="12" r="4" fill="currentColor"/><circle cx="17" cy="7" r="1.5" fill="currentColor"/></svg>
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- Modal Overlay -->
  <div id="propertyModal" class="fixed inset-0 bg-black/60 dark:bg-black/80 flex items-center justify-center z-50 hidden">
    <div class="bg-white dark:bg-slate-900 rounded-2xl shadow-2xl flex flex-col md:flex-row w-[95vw] max-w-3xl overflow-hidden relative modal-content" id="modalContent">
      <!-- Modal Top Bar for Controls -->
      <div class="absolute top-0 left-0 w-full flex justify-between items-center z-30 px-4 pt-3 md:pt-4 pointer-events-none">
        <div class="flex gap-2">
          <button id="fullscreenBtn" class="relative text-gray-500 hover:text-blue-600 dark:hover:text-blue-400 text-xl font-bold btn-animated bg-white/90 dark:bg-slate-800 rounded-full p-2 shadow-md border border-gray-200 dark:border-slate-700 pointer-events-auto" title="Toggle Full Screen" aria-label="Toggle Full Screen" style="backdrop-filter: blur(4px);">
            <svg id="fullscreenIcon" class="w-7 h-7" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M4 8V4h4M20 8V4h-4M4 16v4h4M20 16v4h-4" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </button>
        </div>
        <div class="flex gap-2">
          <button id="shareBtn" class="relative text-gray-500 hover:text-blue-600 dark:hover:text-blue-400 text-xl font-bold btn-animated bg-white/90 dark:bg-slate-800 rounded-full p-2 shadow-md border border-gray-200 dark:border-slate-700 pointer-events-auto" title="Share Property" aria-label="Share Property" style="backdrop-filter: blur(4px);">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><circle cx="18" cy="5" r="3"/><circle cx="6" cy="12" r="3"/><circle cx="18" cy="19" r="3"/><path d="M8.59 13.51l6.83 3.98M15.41 6.51l-6.82 3.98" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12l2.5 2.5L16 9" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </button>
          <button id="closeModal" class="relative text-gray-500 hover:text-blue-600 dark:hover:text-blue-400 text-2xl font-bold btn-animated bg-white/90 dark:bg-slate-800 rounded-full p-2 shadow-md border border-gray-200 dark:border-slate-700 pointer-events-auto ml-1" title="Close" aria-label="Close" style="backdrop-filter: blur(4px);">&times;</button>
        </div>
      </div>
      <!-- Image Carousel -->
      <div class="flex flex-col md:w-1/2 bg-black/10 dark:bg-slate-800" id="modalImageCol">
        <div class="relative flex items-center justify-center h-64 md:h-full" id="modalImageWrapper">
          <button id="prevImg" class="absolute left-2 top-1/2 -translate-y-1/2 bg-white/80 dark:bg-slate-700 p-2 rounded-full shadow hover:bg-blue-100 dark:hover:bg-blue-800 z-10 btn-animated"><svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/></svg></button>
          <img id="modalImg" src="" alt="Property Image" class="rounded-xl w-full h-64 object-cover shadow-md dark:shadow-none select-none transition-all duration-300" style="max-height:100%; max-width:100%;" loading="lazy" width="600" height="300">
          <button id="nextImg" class="absolute right-2 top-1/2 -translate-y-1/2 bg-white/80 dark:bg-slate-700 p-2 rounded-full shadow hover:bg-blue-100 dark:hover:bg-blue-800 z-10 btn-animated"><svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg></button>
        </div>
        <div id="modalThumbnails" class="flex gap-2 justify-center mt-2 px-2 pb-2"></div>
      </div>
      <!-- Details -->
      <div class="p-8 flex flex-col justify-center w-full md:w-1/2">
        <div id="modalTags" class="flex flex-wrap gap-2 mb-2"></div>
        <h4 id="modalTitle" class="text-2xl font-bold mb-2 text-blue-700 dark:text-gray-100"></h4>
        <p id="modalLocation" class="text-gray-600 mb-2 dark:text-gray-300"></p>
        <a id="modalMapBtn" href="#" target="_blank" class="inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-blue-100 text-blue-700 font-medium shadow hover:bg-blue-200 transition mb-3 mt-1 hidden">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M21 10.5V19a1.5 1.5 0 0 1-1.5 1.5h-13A1.5 1.5 0 0 1 5 19V5A1.5 1.5 0 0 1 6.5 3.5h13A1.5 1.5 0 0 1 21 5v5.5z"/><circle cx="12" cy="14" r="3"/></svg> View on Map
        </a>
        <p id="modalPrice" class="text-blue-600 font-bold text-lg dark:text-blue-300 mb-2"></p>
        <div id="modalFeatures" class="flex flex-wrap gap-2 mb-2"></div>
        <p id="modalDescription" class="text-gray-700 dark:text-gray-200 mt-2"></p>
      </div>
    </div>
  </div>

  <script>
    // Modal functionality with multiple images, tags, features, and description
    function bindModalEvents() {
      const propertyCards = document.querySelectorAll('.property-card');
      const modal = document.getElementById('propertyModal');
      const closeModal = document.getElementById('closeModal');
      const modalImg = document.getElementById('modalImg');
      const modalTitle = document.getElementById('modalTitle');
      const modalLocation = document.getElementById('modalLocation');
      const modalPrice = document.getElementById('modalPrice');
      const modalDescription = document.getElementById('modalDescription');
      const modalThumbnails = document.getElementById('modalThumbnails');
      const prevImg = document.getElementById('prevImg');
      const nextImg = document.getElementById('nextImg');
      const fullscreenBtn = document.getElementById('fullscreenBtn');
      const modalContent = document.getElementById('modalContent');
      const shareBtn = document.getElementById('shareBtn');
      let currentImages = [];
      let currentImgIdx = 0;
      let currentLink = '';
      let isFullscreen = false;
      function updateModalImage(idx) {
        if (currentImages.length === 0) return;
        modalImg.classList.add('fading');
        setTimeout(() => {
          modalImg.src = currentImages[idx];
          modalImg.onload = () => modalImg.classList.remove('fading');
        }, 120);
        // Highlight thumbnail
        Array.from(modalThumbnails.children).forEach((thumb, i) => {
          thumb.classList.toggle('ring-2', i === idx);
          thumb.classList.toggle('ring-blue-500', i === idx);
        });
      }
      propertyCards.forEach(card => {
        card.addEventListener('click', () => {
          modalTitle.textContent = card.getAttribute('data-title');
          modalLocation.textContent = card.getAttribute('data-location');
          modalPrice.textContent = card.getAttribute('data-price');
          modalDescription.textContent = card.getAttribute('data-description');
          currentImages = JSON.parse(card.getAttribute('data-images'));
          currentImgIdx = 0;
          currentLink = card.getAttribute('data-link');
          // Google Maps pin link
          const mapUrl = card.getAttribute('data-map');
          const mapBtn = document.getElementById('modalMapBtn');
          if (mapBtn) {
            if (mapUrl) {
              mapBtn.href = mapUrl;
              mapBtn.classList.remove('hidden');
            } else {
              mapBtn.classList.add('hidden');
            }
          }
          // Render thumbnails
          modalThumbnails.innerHTML = currentImages.map((img, i) => `<img src="${img}" class="w-14 h-14 rounded-lg object-cover cursor-pointer border-2 border-transparent hover:border-blue-400 transition-all" style="object-fit:cover;" loading="lazy" width="56" height="56" data-idx="${i}">`).join('');
          Array.from(modalThumbnails.children).forEach((thumb, i) => {
            thumb.addEventListener('click', e => {
              e.stopPropagation();
              currentImgIdx = i;
              updateModalImage(i);
            });
          });
          updateModalImage(currentImgIdx);
          modal.classList.remove('hidden');
          setTimeout(() => modal.classList.add('show'), 10);
        });
      });
      prevImg.addEventListener('click', (e) => {
        e.stopPropagation();
        if (currentImages.length > 0) {
          currentImgIdx = (currentImgIdx - 1 + currentImages.length) % currentImages.length;
          updateModalImage(currentImgIdx);
        }
      });
      nextImg.addEventListener('click', (e) => {
        e.stopPropagation();
        if (currentImages.length > 0) {
          currentImgIdx = (currentImgIdx + 1) % currentImages.length;
          updateModalImage(currentImgIdx);
        }
      });
      closeModal.addEventListener('click', () => {
        modal.classList.remove('show');
        setTimeout(() => modal.classList.add('hidden'), 350);
      });
      modal.addEventListener('click', (e) => {
        if (e.target === modal) {
          modal.classList.remove('show');
          setTimeout(() => modal.classList.add('hidden'), 350);
        }
      });
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') {
          modal.classList.remove('show');
          setTimeout(() => modal.classList.add('hidden'), 350);
        }
        if (e.key === 'ArrowLeft') prevImg.click();
        if (e.key === 'ArrowRight') nextImg.click();
      });
      fullscreenBtn.addEventListener('click', () => {
        isFullscreen = !isFullscreen;
        if(isFullscreen) {
          modalContent.classList.add('fixed','top-0','left-0','w-screen','h-screen','rounded-none','z-[999]');
        } else {
          modalContent.classList.remove('fixed','top-0','left-0','w-screen','h-screen','rounded-none','z-[999]');
        }
      });
      shareBtn.addEventListener('click', (e) => {
        e.stopPropagation();
        // Share menu logic (WhatsApp, Email, Copy Link)
        const menu = document.createElement('div');
        menu.id = 'shareMenuBg';
        menu.className = 'fixed inset-0 z-[9999] flex items-center justify-center bg-black/40';
        menu.innerHTML = `
          <div class='bg-white dark:bg-slate-800 rounded-xl shadow-xl p-6 flex flex-col gap-4 min-w-[240px] pointer-events-auto'>
            <div class='font-bold text-lg mb-1 text-blue-700 dark:text-blue-200'>Share Property</div>
            <a href='https://wa.me/?text='+encodeURIComponent(currentLink) class='flex items-center gap-2 text-green-600 hover:text-green-700 font-medium' target='_blank'><svg class='w-5 h-5' fill='none' viewBox='0 0 32 32'><rect width='32' height='32' rx='8' fill='#25D366'/><path fill='#fff' d='M16 8.5A7.5 7.5 0 0 0 8.5 16c0 1.32.35 2.6 1 3.72l-1.07 3.9a.75.75 0 0 0 .92.92l3.9-1.07A7.5 7.5 0 1 0 16 8.5Zm0 13a5.5 5.5 0 0 1-2.8-.76l-.2-.12-2.3.62.62-2.3-.12-.2A5.5 5.5 0 1 1 16 21.5Zm3.11-4.07c-.17-.09-.98-.48-1.13-.54-.15-.06-.26-.09-.37.09-.11.17-.43.54-.53.65-.09.11-.2.12-.37.04-.17-.09-.71-.26-1.35-.83-.5-.45-.84-.99-.94-1.16-.09-.17-.01-.26.08-.34.08-.09.17-.22.26-.34.09-.11.12-.2.18-.34.06-.13.03-.25-.02-.34-.05-.09-.4-.98-.54-1.34-.14-.36-.29-.31-.4-.31-.11 0-.23 0-.36 0a.56.56 0 0 0-.4.16c-.11.11-.43.41-.43 1 0 .59.44 1.16.5 1.25.06.09.87 1.4 2.12 1.91.3.12.53.2.71.25.3.08.56.07.77.04.23-.03.72-.28.82-.56.1-.28.1-.52.07-.56-.03-.05-.12-.08-.25-.15Z'/></svg> WhatsApp</a>
            <a href='mailto:?subject=Check%20out%20this%20property&body='+encodeURIComponent(currentLink) class='flex items-center gap-2 text-blue-600 hover:text-blue-800 font-medium'><svg class='w-5 h-5' fill='none' stroke='currentColor' stroke-width='2' viewBox='0 0 24 24'><rect x='3' y='5' width='18' height='14' rx='2' stroke='currentColor' stroke-width='2'/><path d='M3 7l9 6 9-6' stroke='currentColor' stroke-width='2'/></svg> Email</a>
            <button id='copyLinkBtn' class='flex items-center gap-2 text-gray-600 hover:text-blue-600 font-medium'><svg class='w-5 h-5' fill='none' stroke='currentColor' stroke-width='2' viewBox='0 0 24 24'><rect x='9' y='9' width='13' height='13' rx='2' stroke='currentColor' stroke-width='2'/><rect x='3' y='3' width='13' height='13' rx='2' stroke='currentColor' stroke-width='2'/></svg> Copy Link</button>
            <button id='closeShareMenu' class='mt-2 text-sm text-gray-400 hover:text-gray-600'>Cancel</button>
          </div>
        `;
        document.body.appendChild(menu);
        const shareUrl = currentLink;
        document.getElementById('copyLinkBtn').onclick = () => {
          navigator.clipboard.writeText(shareUrl);
          document.getElementById('copyLinkBtn').textContent = 'Copied!';
          setTimeout(() => document.getElementById('copyLinkBtn').textContent = 'Copy Link', 1500);
        };
        document.getElementById('closeShareMenu').onclick = () => menu.remove();
        menu.onclick = (e) => { if(e.target.id === 'shareMenuBg') menu.remove(); };
      });
    }
    // Render property cards dynamically from properties.js
    function createPropertyCard(property) {
      // Tags HTML
      const tags = property.tags.map(tag => {
        let tagColor = 'bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-200';
        if (tag === 'New Listing') tagColor = 'bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-200';
        if (tag === 'Popular') tagColor = 'bg-yellow-100 text-yellow-700 dark:bg-yellow-900 dark:text-yellow-200';
        return `<span class="${tagColor} text-xs px-2 py-1 rounded flex items-center gap-1">
          <svg class='w-4 h-4' fill='none' stroke='currentColor' stroke-width='2' viewBox='0 0 24 24'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M8 12l2.5 2.5L16 9' stroke='#fff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/></svg>
          ${tag}
        </span>`;
      }).join('');
      // Features HTML
      const features = property.features.map(f => `<span class='bg-gray-100 text-gray-600 dark:bg-slate-800 dark:text-gray-300 px-2 py-1 rounded text-xs flex items-center gap-1'><svg class='w-3 h-3 text-blue-400' fill='none' stroke='currentColor' stroke-width='2' viewBox='0 0 24 24'><circle cx='12' cy='12' r='10' stroke='currentColor' stroke-width='2'/><circle cx='12' cy='12' r='4' stroke='currentColor' stroke-width='2'/></svg>${f}</span>`).join(' ');
      // Main Image
      const mainImg = property.images[0];
      return `<button class="glass p-6 flex flex-col items-center hover:scale-105 transition shadow-xl dark:shadow-none focus:outline-none group property-card btn-animated"
        data-title="${property.title}"
        data-location="${property.location}"
        data-price="${property.price}"
        data-description="${property.description}"
        data-tags='${JSON.stringify(property.tags)}'
        data-features='${JSON.stringify(property.features)}'
        data-images='${JSON.stringify(property.images)}'
        data-link="${property.link}"
        data-map="${property.map}">
        <img src="${mainImg}" alt="${property.title} in ${property.location}" class="rounded-xl mb-4 w-full h-48 object-cover shadow-md dark:shadow-none" loading="lazy" width="600" height="200">
        <div class="flex flex-wrap gap-2 mb-2">${tags}</div>
        <h4 class="text-xl font-semibold mb-1 text-blue-800 dark:text-gray-100">${property.title}</h4>
        <p class="text-gray-500 text-base mb-2 dark:text-gray-400">${property.location}</p>
        <p class="text-blue-600 font-bold text-lg dark:text-gray-200">${property.price}</p>
      </button>`;
    }
    function renderProperties() {
      const grid = document.getElementById('propertyGrid');
      grid.innerHTML = properties.map(createPropertyCard).join('');
    }
    document.addEventListener('DOMContentLoaded', () => {
      renderProperties();
      setTimeout(bindModalEvents, 0);
    });
  </script>

  <script src="properties.js"></script>

  <!-- About Section -->
  <section id="about" class="bg-white/80 backdrop-blur-lg py-16 px-4 dark:bg-slate-800 dark:backdrop-blur-lg">
    <div class="max-w-3xl mx-auto text-center">
      <h3 class="text-3xl font-bold mb-4 text-blue-700 dark:text-gray-100">About RN Properties</h3>
      <p class="text-gray-700 text-lg dark:text-gray-300">Sanjeev Aggarwal is a passionate real estate agent with 10+ years of experience helping families find the perfect place to call home. Whether you're buying, selling, or renting, Sanjeev Aggarwal is here to help every step of the way.</p>
    </div>
  </section>

  <!-- Contact Section -->
  <section id="contact" class="bg-gradient-to-r from-blue-100 via-white to-blue-100 py-16 px-4 dark:bg-gradient-to-r dark:from-slate-900 dark:via-slate-800 dark:to-slate-900">
    <div class="max-w-xl mx-auto">
      <h3 class="text-3xl font-bold mb-6 text-center text-blue-700 dark:text-gray-100">Contact</h3>
      <form action="https://formspree.io/f/your-form-id" method="POST" class="space-y-5 bg-white/90 rounded-2xl p-8 shadow-xl dark:bg-slate-700 dark:shadow-none">
        <input type="text" name="name" placeholder="Your Name" required class="w-full p-3 border border-blue-200 rounded-lg focus:ring-2 focus:ring-blue-400 outline-none dark:border-slate-500 dark:focus:ring-slate-400">
        <input type="email" name="_replyto" placeholder="Your Email" required class="w-full p-3 border border-blue-200 rounded-lg focus:ring-2 focus:ring-blue-400 outline-none dark:border-slate-500 dark:focus:ring-slate-400">
        <textarea name="message" rows="5" placeholder="Your Message" required class="w-full p-3 border border-blue-200 rounded-lg focus:ring-2 focus:ring-blue-400 outline-none dark:border-slate-500 dark:focus:ring-slate-400"></textarea>
        <button type="submit" class="w-full bg-gradient-to-r from-blue-600 to-sky-400 text-white p-3 rounded-lg font-semibold shadow-md hover:from-blue-700 hover:to-sky-500 transition dark:bg-gradient-to-r dark:from-slate-700 dark:via-slate-800 dark:to-slate-900 dark:text-gray-100 dark:shadow-none">Send Message</button>
      </form>
    </div>
  </section>

  <!-- Footer -->
  <footer class="bg-white/90 text-center py-6 text-base text-gray-500 shadow-inner mt-12 dark:bg-slate-800 dark:text-gray-300 dark:shadow-none">
    &copy; 2025 RN Properties. All rights reserved.
  </footer>

  <script>
    // Lazy load testimonial images
    document.addEventListener('DOMContentLoaded', function() {
      document.querySelectorAll('section img').forEach(function(img) {
        img.setAttribute('loading', 'lazy');
      });
    });
  </script>

</body>
</html>
